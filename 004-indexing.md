## 0. 공부하게 된 계기
나중에 DB 설계할 때 필요할 수 있기 때문에 인덱싱을 공부했다.  
~'인덱싱을 건다'라고 많이 표현하더라~  
DB에는 여러 개의 테이블이 존재하고, 그 테이블에는 다양한 수의 데이터가 쌓인다.  
예상치 못하게 많은 데이터가 쌓여있고, 여러 조건을 조합해서 데이터를 조회할 때, 인덱스를 설정하면 검색 속도가 빨라질 수 있다.  
인덱스를 설정할 때 정답은 없다.  
각각의 데이터에 따라 좋은 인덱싱이 될 수도 있고, 쓸모없는 인덱싱이 될 수도 있다.  
https://yurimkoo.github.io/db/2020/03/14/db-index.html 여기를 참고하여 작성했다.
  
## 1. 개념
##### 한 마디로 색인
인덱스는 테이블의 동작 속도를 높여주는 자료 구조이다.  
단, 이는 인덱스가 잘 설정되어있을 경우에만 해당한다.  

##### where 절에서 효과가 있음
인덱스는 where 절에 사용할 컬럼에 대한 효율화라고 볼 수 있다.  
where 절을 사용하지 않고 인덱스가 걸린 컬럼을 조회하는 것은 성능에 아무런 영향이 없다.  
만약 인덱스가 '학번'에 걸려 있다고 하면

```
1번) SELECT '학번' FROM '학생';
2번) SELECT '전화번호' FROM '학생' WHERE '이름' = "김철수";
3번) SELECT * FROM '학생' WHERE '학번' = 1;
```

위 예에서 3번에서만 성능을 향상시킨다.


## 2. 어디에 설정해야 좋은가
인덱스는 하나 혹은 여러 개의 컬럼에 대해 설정할 수 있다.  
단일 인덱스를 여러 개 생성할 수도, 여러 컬럼을 묶어 복합 인덱스를 설정할 수도 있다.  
그러나 무조건 많이 설정하는게 검색 속도를 향상시켜주지는 않는다.  
인덱스는 데이터베이스 메모리를 사용하여 테이블 형태로 저장되므로 개수와 저장 공간은 비례한다.  
따라서, 인덱스는 조회시 자주 사용하고, 고유한 값 위주로 설정해주는 것이 좋다.

##### 카디널리티(cardinality)
__카디널리티가 높을수록(한 컬럼이 갖고 있는 중복 정도가 낮을수록) 인덱스 설정에 좋다.__  
카디널리티는 중복 수치를 나타내는 지료포, unique key와 같은 경우는 중복 정도가 낮으므로 카디널리티가 낮다.  
반면 나이같은 column이 있다면 unique key에 비해 카디널리티가 높다.

##### 선택도(selectivity)
__선택도가 낮을수록 인덱스에 설정에 좋다.__  

```
= 컬럼의 특정 값(유니크한 값) 의 row 수 / 테이블의 총 row 수 * 100
= 컬럼의 값들의 평균 row 수 / 테이블의 총 row 수 * 10
```

위 식은 선택도를 계산하는 식이다.

##### 활용도
__활용도가 높을수록 인덱스 설정에 좋은 컬럼이다.__  
해당 컬럼이 실제 작업에서 얼마나 활용되는지에 대한 값이다.  
수동 쿼리 조회, 로직과 서비스에서 쿼리를 날릴 때 WHERE 절에 자주 활용되는지를 판단하면 된다.  

##### 중복도
__중복도가 없을수록 인덱스 설정에 좋은 컬럼이다.__  


## 3. mongoDB에서 index
사용법, index 측정하기 등은 여기를 보면 된다: https://ryu-e.tistory.com/1
(개발한 후에 추가하기)
